<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.p2p.qiyun.xsr.dao.CreditMapper_xsr" >
	<select id="phonechaxinxi" parameterType="String" resultType="com.p2p.qiyun.xsr.domain.userinfo">
		select * from  userinfo where phone=#{phone}
	</select>
  	<select id="kehuxinxi" parameterType="int" resultType="com.p2p.qiyun.xsr.domain.customer">
  		select * from customer  where userid=#{userid} ORDER BY customerid asc 
  	</select>
  	<select id="scdenglu" parameterType="String" resultType="String">
  		select scdate from scshijian where phone=#{phone} ORDER BY scid DESC 
  	</select>
  	<update id="shimingrz" parameterType="com.p2p.qiyun.xsr.domain.userinfo">
  		update userinfo set username=#{username},idnumber=#{idnumber} where phone=${phone}
  	</update>
  	<delete id="delecus" parameterType="int">
  		delete from customer where customerid=#{customerid}
  	</delete>
  	<update id="bangyou" parameterType="com.p2p.qiyun.xsr.domain.customer">
  		update customer set email=#{email} where customerid=#{customerid}
  	</update>  	
  	<update id="xiumi" parameterType="com.p2p.qiyun.xsr.domain.userinfo">
  		update userinfo set password=#{password} where phone=#{phone}
  	</update>
  	
  	<select id="kehuxinxi22" parameterType="int" resultType="com.p2p.qiyun.xsr.domain.customer">
  		select * from customer  where customerid=#{customerid} 
  	</select>
  	
  	<update id="bangyin" parameterType="com.p2p.qiyun.xsr.domain.customer">
  		update customer set bankname=#{bankname},bankid=#{bankid} where customerid=#{customerid}
  	</update>
  	
  	<update id="xiuxinyongfen" parameterType="com.p2p.qiyun.xsr.domain.customer">
  		update customer set creditrate=#{creditrate} where customerid=#{customerid}
  	</update>
  	
  	<select id="xioxichaxun" parameterType="int" resultType="com.p2p.qiyun.xsr.domain.xiaoxi">
  		select * from xiaoxi where userid=#{userid} ORDER BY sendtime desc
  	</select>
  	
  	<select id="chajiekuan" parameterType="int" resultType="com.p2p.qiyun.lsx.entity.Loan">		
		select * from loan where userid=#{userid}  		
  	</select>
  	
  	<select id="chahuankuan" parameterType="int" resultType="com.p2p.qiyun.xsr.domain.repayment">
		select * from repayment where userid=#{userid} ORDER BY rdate desc		
  	</select>

	<insert id="chaduihuatext" parameterType="com.p2p.qiyun.xsr.domain.kefuinfo">
		insert into kefuinfo(userid,uid,kfnr,qiuid) VALUES(#{userid},#{uid},#{kfnr},#{qiuid})
	</insert>
  	
  	<select id="chatextuser" parameterType="int" resultType="com.p2p.qiyun.xsr.domain.kefuinfo">
  		select a.* from kefuinfo a,yesnoqiu b where a.qiuid=b.qiuid and a.userid=#{userid} and b.yesno='yes'
  	</select>
  	
  	<select id="chakfu" parameterType="int" resultType="com.p2p.qiyun.dyj.pojo.Users">
  		select * from users where uid=#{uid}
  	</select>
  	
</mapper>